<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procedural Terrain Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        canvas {
            display: block;
        }
        #game-ui {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-family: Arial, sans-serif;
        }
        .status-bar {
            background-color: black;
            border: 1px solid white;
            width: 200px;
            height: 20px;
            margin-bottom: 5px;
        }
        .fill {
            height: 100%;
            background-color: green;
        }
    </style>
</head>
<body>

<div id="game-ui">
    <div>Health</div>
    <div class="status-bar"><div id="health-bar" class="fill" style="width: 100%;"></div></div>
    <div>Hunger</div>
    <div class="status-bar"><div id="hunger-bar" class="fill" style="width: 80%;"></div></div>
    <div>Thirst</div>
    <div class="status-bar"><div id="thirst-bar" class="fill" style="width: 70%;"></div></div>
    <div id="time">Day Time: 6:00</div>
</div>

<canvas id="gameCanvas"></canvas>

<script>
// Setup canvas
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Game variables
let player = { x: canvas.width / 2, y: canvas.height / 2, size: 10, color: 'blue' };
let health = 100, hunger = 80, thirst = 70;
let time = 6.0; // Time starts at 6:00 AM
let dayLength = 24; // 24-hour day cycle

// Procedural terrain variables
let terrain = [];
let terrainWidth = 100;
let terrainHeight = 100;
let tileSize = 20;

// Function to generate procedural terrain
function generateTerrain() {
    for (let i = 0; i < terrainWidth; i++) {
        terrain[i] = [];
        for (let j = 0; j < terrainHeight; j++) {
            let height = Math.random() * 255;
            terrain[i][j] = { height: height };
        }
    }
}

// Function to render terrain
function renderTerrain() {
    for (let i = 0; i < terrainWidth; i++) {
        for (let j = 0; j < terrainHeight; j++) {
            let color = `rgb(${terrain[i][j].height}, ${terrain[i][j].height}, ${terrain[i][j].height})`;
            ctx.fillStyle = color;
            ctx.fillRect(i * tileSize, j * tileSize, tileSize, tileSize);
        }
    }
}

// Function to render player
function renderPlayer() {
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.size, player.size);
}

// Function to update game state
function update() {
    // Move player with arrow keys
    document.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowUp') player.y -= 10;
        if (event.key === 'ArrowDown') player.y += 10;
        if (event.key === 'ArrowLeft') player.x -= 10;
        if (event.key === 'ArrowRight') player.x += 10;
    });

    // Update day/night cycle
    time += 0.01; // Simulate time passing
    if (time >= dayLength) time = 0;
    document.getElementById('time').innerHTML = `Day Time: ${Math.floor(time)}:00`;

    // Update survival stats
    hunger -= 0.01;
    thirst -= 0.01;

    document.getElementById('health-bar').style.width = `${health}%`;
    document.getElementById('hunger-bar').style.width = `${hunger}%`;
    document.getElementById('thirst-bar').style.width = `${thirst}%`;

    // Change background color based on time (day/night cycle)
    if (time >= 6 && time <= 18) {
        document.body.style.backgroundColor = 'skyblue'; // Daytime
    } else {
        document.body.style.backgroundColor = 'darkblue'; // Nighttime
    }
}

// Game loop
function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    renderTerrain();
    renderPlayer();
    update();
    requestAnimationFrame(gameLoop);
}

// Initialize game
generateTerrain();
gameLoop();
</script>

</body>
</html>
